<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Homework 8</title>
        <meta charset="UTF-8">
        <meta name = "description" content="Homework 8">
        <meta name = "author" content = "Linying Lu">
        <meta name = "viewport" content = "width=device-width, initial-scale=1.0">
        <style>
        
        table,th,td {
            border : 1px solid black;
            border-collapse: collapse;
        }
        th,td {
            padding: 5px;
        }
        </style>
    </head>
<body>
    <h1>Homework 8 - AJAX Application</h1>

<button type="button" onclick="loadDoc()">Get CD collection</button>
<br><br>
<table id="demo"></table>

<script>
function loadDoc() {
  const xhttp = new XMLHttpRequest();
  xhttp.onload = function() {
    myFunction(this);
  }
  xhttp.open("GET", "https://linyinglu086.github.io/cd_catalog.xml");
  xhttp.send();
}
function myFunction(xml) {
  const xmlDoc = xml.responseXML;
  const x = xmlDoc.getElementsByTagName("CD");
  let table="<tr><th>Artist</th><th>Title</th></tr>";
  for (let i = 0; i <x.length; i++) { 
    table += "<tr><td>" +
    x[i].getElementsByTagName("ARTIST")[0].childNodes[0].nodeValue +
    "</td><td>" +
    x[i].getElementsByTagName("TITLE")[0].childNodes[0].nodeValue +
    "</td></tr>";
  }
  document.getElementById("demo").innerHTML = table;
}
</script>
<h2>Explanation of AJAX</h2>
<p>When you clicks on the "Get CD collection" button above, the loadDoc() function is executed. The loadDoc() function creates an XMLHttpRequest object, adds the function to be executed when the server response is ready, and sends the request off to the server.</p>
<p>When the server response is ready, an HTML table is built, nodes (elements) are extracted from the XML file, and it finally updates the element "demo" with the HTML table filled with XML data</p>
<h2>REST API</h2>
<p>API is an application programming interface, it allows two applications to communicate with each other. 
    REST means Representational State Transfer, it defines a set of functions like GET, PUT, and DELETE, 
    that clients can use to access server data.</p>
    <p>Here are some advantages of using API:<br>
        <ul>
            <li>File format:</li>
            <p>Web API ues different formats of request and response data, it supports data type like JSON, XML, BSON, and form-urlencoded data, 
                which means it automatically converts request/response data into these format out of the box. Learn more 
                <a href="https://www.tutorialsteacher.com/webapi/request-response-data-formats-in-web-api">data file format from here</a>. 
            </p>
            <li>Key to access the API:</li>
            <p>API keys are an essential part of using APIs. They act as a form of user authorization, proving that 
                you are authorized to make requests to the API. There are two main types of API keys: Public, for accessing 
            public data, and Private, for server-to-server communications. Public is free to use, and private you need to pay. More information about <a href="https://blog.dreamfactory.com/api-keys-explained-what-they-are-and-how-to-use-them/">API Keys </a> you can find here.</p>
            <li>Fee to use the API:</li>
            <p>There are two common ways for the vendors to charge fees for API usage, one for access, 
                and another is for usage. When it turns the question "Do APIs cost money?", it usually
                depends on the situation. When the company needs the API to make money it requirs pay the fee to use, while
                it's an unprofit organize who don't need the web API to earn the money, then it's free to use. Here is a topic
                to discuss <a href="https://www.oyova.com/blog/companies-charge-api-access-2/">why and how companies charge for API access</a>.  
            </p> 
</p>

<a href="Homework1.html">Go back to Homework1</a>

</body>
</html>


